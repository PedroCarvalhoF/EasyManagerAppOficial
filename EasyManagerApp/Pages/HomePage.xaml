<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="EasyManagerApp.Pages.HomePage"
             Title="Dashboard"
             BackgroundColor="{StaticResource Gray100}">

    <Grid RowDefinitions="Auto,*"
          Padding="20">
        <!-- Header Section -->
        <Grid Grid.Row="0"
              ColumnDefinitions="*,Auto"
              Margin="0,0,0,20">
            <VerticalStackLayout Grid.Column="0"
                                 Spacing="5">
                <Label x:Name="lblBoasVindas"
                       Text="Bem-vindo"
                       FontSize="28"
                       FontAttributes="Bold"
                       TextColor="{StaticResource Gray900}" />
                <Label Text="Acompanhe as principais métricas do seu negócio"
                       FontSize="14"
                       TextColor="{StaticResource Gray600}" />
            </VerticalStackLayout>
            <Button Grid.Column="1"
                    Text="Atualizar"
                    BackgroundColor="{StaticResource Primary}"
                    TextColor="White"
                    CornerRadius="8"
                    Padding="20,10"
                    FontAttributes="Bold" />
        </Grid>

        <!-- Main Content -->
        <ScrollView Grid.Row="1">
            <VerticalStackLayout Spacing="20">
                <!-- Quick Stats Cards -->
                <Grid ColumnDefinitions="*,*,*,*"
                      ColumnSpacing="15">
                    <!-- Total Filiais -->
                    <Border Grid.Column="0"
                            BackgroundColor="White"
                            StrokeShape="RoundRectangle 16"
                            Stroke="{StaticResource Gray200}"
                            Padding="20">
                        <VerticalStackLayout Spacing="10">
                            <Label Text="Total de Filiais"
                                   FontSize="14"
                                   TextColor="{StaticResource Gray600}" />
                            <Label Text="12"
                                   FontSize="24"
                                   FontAttributes="Bold"
                                   TextColor="{StaticResource Primary}" />
                        </VerticalStackLayout>
                    </Border>

                    <!-- Manutenções Pendentes -->
                    <Border Grid.Column="1"
                            BackgroundColor="White"
                            StrokeShape="RoundRectangle 16"
                            Stroke="{StaticResource Gray200}"
                            Padding="20">
                        <VerticalStackLayout Spacing="10">
                            <Label Text="Manutenções Pendentes"
                                   FontSize="14"
                                   TextColor="{StaticResource Gray600}" />
                            <Label Text="8"
                                   FontSize="24"
                                   FontAttributes="Bold"
                                   TextColor="{StaticResource Warning}" />
                        </VerticalStackLayout>
                    </Border>

                    <!-- Total Colaboradores -->
                    <Border Grid.Column="2"
                            BackgroundColor="White"
                            StrokeShape="RoundRectangle 16"
                            Stroke="{StaticResource Gray200}"
                            Padding="20">
                        <VerticalStackLayout Spacing="10">
                            <Label Text="Total Colaboradores"
                                   FontSize="14"
                                   TextColor="{StaticResource Gray600}" />
                            <Label Text="450"
                                   FontSize="24"
                                   FontAttributes="Bold"
                                   TextColor="{StaticResource Success}" />
                        </VerticalStackLayout>
                    </Border>

                    <!-- Solicitações de Contras -->
                    <Border Grid.Column="3"
                            BackgroundColor="White"
                            StrokeShape="RoundRectangle 16"
                            Stroke="{StaticResource Gray200}"
                            Padding="20">
                        <VerticalStackLayout Spacing="10">
                            <Label Text="Solicitações de Contras"
                                   FontSize="14"
                                   TextColor="{StaticResource Gray600}" />
                            <Label Text="25"
                                   FontSize="24"
                                   FontAttributes="Bold"
                                   TextColor="{StaticResource Info}" />
                        </VerticalStackLayout>
                    </Border>
                </Grid>

                <!-- Recent Activities and Quick Actions -->
                <Grid ColumnDefinitions="2*,*"
                      ColumnSpacing="20">
                    <!-- Recent Activities -->
                    <Border Grid.Column="0"
                            BackgroundColor="White"
                            StrokeShape="RoundRectangle 16"
                            Stroke="{StaticResource Gray200}"
                            Padding="20">
                        <VerticalStackLayout Spacing="15">
                            <Label Text="Atividades Recentes"
                                   FontSize="18"
                                   FontAttributes="Bold"
                                   TextColor="{StaticResource Gray900}" />

                            <CollectionView ItemsSource="{Binding AtividadesRecentes}">
                                <CollectionView.ItemTemplate>
                                    <DataTemplate>
                                        <Grid ColumnDefinitions="Auto,*,Auto"
                                              Padding="10,5">
                                            <Border Grid.Column="0"
                                                    BackgroundColor="{StaticResource Gray50}"
                                                    StrokeShape="RoundRectangle 8"
                                                    Stroke="{StaticResource Gray200}"
                                                    Padding="8">
                                                <Image Source="{Binding Icon}"
                                                       HeightRequest="20"
                                                       WidthRequest="20" />
                                            </Border>
                                            <VerticalStackLayout Grid.Column="1"
                                                                 Margin="10,0"
                                                                 Spacing="2">
                                                <Label Text="{Binding Titulo}"
                                                       FontSize="14"
                                                       TextColor="{StaticResource Gray900}" />
                                                <Label Text="{Binding Descricao}"
                                                       FontSize="12"
                                                       TextColor="{StaticResource Gray600}" />
                                            </VerticalStackLayout>
                                            <Label Grid.Column="2"
                                                   Text="{Binding Tempo}"
                                                   FontSize="12"
                                                   TextColor="{StaticResource Gray500}" />
                                        </Grid>
                                    </DataTemplate>
                                </CollectionView.ItemTemplate>
                            </CollectionView>
                        </VerticalStackLayout>
                    </Border>

                    <!-- Quick Actions -->
                    <Border Grid.Column="1"
                            BackgroundColor="White"
                            StrokeShape="RoundRectangle 16"
                            Stroke="{StaticResource Gray200}"
                            Padding="20">
                        <VerticalStackLayout Spacing="15">
                            <Label Text="Ações Rápidas"
                                   FontSize="18"
                                   FontAttributes="Bold"
                                   TextColor="{StaticResource Gray900}" />

                            <Button Text="Nova Filial"
                                    BackgroundColor="{StaticResource Primary}"
                                    TextColor="White"
                                    CornerRadius="8"
                                    Padding="15,10"
                                    FontAttributes="Bold"
                                    Margin="0,5" />

                            <Button Text="Nova Manutenção"
                                    BackgroundColor="{StaticResource Warning}"
                                    TextColor="White"
                                    CornerRadius="8"
                                    Padding="15,10"
                                    FontAttributes="Bold"
                                    Margin="0,5" />

                            <Button Text="Nova Solicitação"
                                    BackgroundColor="{StaticResource Info}"
                                    TextColor="White"
                                    CornerRadius="8"
                                    Padding="15,10"
                                    FontAttributes="Bold"
                                    Margin="0,5" />

                            <Button Text="Relatórios"
                                    BackgroundColor="{StaticResource Success}"
                                    TextColor="White"
                                    CornerRadius="8"
                                    Padding="15,10"
                                    FontAttributes="Bold"
                                    Margin="0,5" />
                        </VerticalStackLayout>
                    </Border>
                </Grid>
            </VerticalStackLayout>
        </ScrollView>
    </Grid>
</ContentPage>
